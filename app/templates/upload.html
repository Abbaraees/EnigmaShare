{% extends 'base.html' %}
{% block content %}
<div>
    <h1>Upload Image</h1>
    <img src="" alt="" id="image-preview">
    <form action="" enctype="multipart/form-data" method="post">
        {{ form.hidden_tag() }}
        <p>
            {{ form.image.label }}<br>
            {{ form.image() }}
        </p>
        <p>
            {{ form.title.label }}<br>
            {{ form.title() }}
        </p>
        <p>
            {{ form.already_encrypted() }}
            {{ form.already_encrypted.label }}
        </p>
        <p>
            {{ form.submit() }}
        </p>
    </form>
</div>
<script>
    const imagePreview = document.getElementById("image-preview")
    const imageFile = document.getElementById("image")
    imageFile.onchange = evt => {
        const [file] = imageFile.files

        if (file) {
            imagePreview.src = URL.createObjectURL(file)
        }
    }
</script>
{% endblock content %}
